1771809293
uvtc!~john@68.112.241.95
Is there a public repo for the zig website?

1771815192
clevor!sid649024@id-649024.hampstead.irccloud.com
uvtc: Check the Codeberg org

1771879908
cow_2001!~username@user/cow-2001/x-5712099
is there an automatic way of scanning whether or not i've.. uh.. accidentally returned a pointer to a stack variable?

1771879932
cow_2001!~username@user/cow-2001/x-5712099
instead of allocating and returning that

1771879958
cow_2001!~username@user/cow-2001/x-5712099
i may or may not have done it carelessly

1771880704
bblack!~bblack@wikimedia/bblack-WMF
cow_2001: if you're on x86_64 linux, one imperfect cheat is to check if the pointer address high byte is 0x7f

1771880713
bblack!~bblack@wikimedia/bblack-WMF
(if so, it's pointing at the stack)

1771880716
cow_2001!~username@user/cow-2001/x-5712099
ACTION squints

1771880724
cow_2001!~username@user/cow-2001/x-5712099
huh!

1771880732
cow_2001!~username@user/cow-2001/x-5712099
no, i'm on some raspberry pi

1771880759
bblack!~bblack@wikimedia/bblack-WMF
there are probably similar tricks on other arches.  generally heap and stack are in different parts of the address space, quite far apart

1771880796
cow_2001!~username@user/cow-2001/x-5712099
i'm nearly done with chapter 21.  i still have up to and including chapter 30 and then i guess i'll start converting and/or rewriting it into a scheme

1771880889
cow_2001!~username@user/cow-2001/x-5712099
is there a name for this bug?  when you call a function and that function returns an address to a stack variable defined in it or maybe further down the stack?

1771881118
bblack!~bblack@wikimedia/bblack-WMF
I don't know what the formal "name" of that would be.  "Returning a stack address"?

1771881523
cow_2001!~username@user/cow-2001/x-5712099
hmm

1771881532
cow_2001!~username@user/cow-2001/x-5712099
i get results, yes

1771882855
cow_2001!~username@user/cow-2001/x-5712099
there are tools called address sanitisers.  https://www.cs.rochester.edu/~sree/courses/csc-252-452/fall-2022/asan_reading.html

1771882919
cow_2001!~username@user/cow-2001/x-5712099
oh! https://ziggit.dev/t/does-zig-support-address-sanitizer/8315/3

1771883768
agent314!~agent314@169.150.242.16
i dont understand why linux kernel folks went with rust for their "let's add something other than c to kernel"

1771883779
agent314!~agent314@169.150.242.16
i would've went for zig

1771883898
lemons!~doggie@user/doggie-:49517
agent314: zig is still pre-1.0

1771883917
agent314!~agent314@169.150.242.16
lemons: ah i see that would be a problem 

1771883919
lemons!~doggie@user/doggie-:49517
and has major changes to the language + std happening fairly frequently

1771883979
lemons!~doggie@user/doggie-:49517
also rust offers something that zig doesnt, i.e promise of no memory-related CVEs 

1771883988
agent314!~agent314@169.150.242.16
yeah i tried compiling ghostty last year and you have to ge the version of zig right

1771884079
agent314!~agent314@169.150.242.16
wasn't there just recently a CVE in something that got rewritten to rust?

1771884112
lemons!~doggie@user/doggie-:49517
agent314: in an unsafe block, yeah

1771884136
lemons!~doggie@user/doggie-:49517
compared to the way-more-common c/c++ ones

1771884243
agent314!~agent314@169.150.242.16
(just fyi i'm somewhat experienced in c but i'm quite new to both zig and rust so take my opinion with some big tablespoons of salt)

1771884357
agent314!~agent314@169.150.242.16
so godbolt has an option for a compiler called zig c++... what does that mean exactly?

1771884369
lemons!~doggie@user/doggie-:49517
is fine, im somewhat experienced with zig and quite new to c++ and rust

1771884369
agent314!~agent314@169.150.242.16
zig can compile c++?

1771884392
lemons!~doggie@user/doggie-:49517
zig c++ in command line to compile c++ yeah

1771884417
lemons!~doggie@user/doggie-:49517
i assume it reuses a different compiler but dont know for certain

1771884478
agent314!~agent314@169.150.242.16
zig c++ 0.15.2 is what it says, there's also zig c++ trunk

1771884503
agent314!~agent314@169.150.242.16
so just normal vanilla zig will coompile c++? that's nuts 

1771884525
jjido!~jjido@2a02:c7c:a308:7800:8dd1:1cc9:8fce:8ea6
doesn't it compile _to_ C++?

1771884581
agent314!~agent314@169.150.242.16
godbolt shows (a little unoptimized but i probably just dont know the flags to optimize) just normal assembly 

1771884622
user0thenyancat_!~user0then@user/user0thenyancat-:41420
jjido: zig itself doesn't compile to c++, afaik

1771884637
user0thenyancat_!~user0then@user/user0thenyancat-:41420
they originally had a c++ based compiler tho, iirc

1771884646
agent314!~agent314@169.150.242.16
also im assuming that's x86_64

1771884652
user0thenyancat_!~user0then@user/user0thenyancat-:41420
but from what i know zig is written in zig now

1771884701
agent314!~agent314@169.150.242.16
sorrry this is what i'm referencing https://godbolt.org/z/bz8Taxaf4

1771884720
agent314!~agent314@169.150.242.16
yeah i would assume it's bootstrapped 

1771884729
user0thenyancat_!~user0then@user/user0thenyancat-:41420
also yes, rust does promise memory safety, but only in non-unsafe blocks, and i'd argue kernel development is possible in 100% safe code

1771884752
agent314!~agent314@169.150.242.16
"Each version of Ghostty is only guaranteed to build for one specific version of Zig as it is still a rapidly-evolving language. Either older or newer Zig compilers may not be able to build Ghostty"

1771884797
lemons!~doggie@user/doggie-:49517
user0thenyancat_: zig is written in zig yeah

1771884811
lemons!~doggie@user/doggie-:49517
sparing the bootstrap but yknow

1771884870
user0thenyancat_!~user0then@user/user0thenyancat-:41420
yea

1771884917
agent314!~agent314@169.150.242.16
is there like a zig language spec?

1771884965
agent314!~agent314@169.150.242.16
i found this https://ziglang.org/documentation/master/#Grammar

1771885005
lemons!~doggie@user/doggie-:49517
agent314: zig provides its own compiler, so i assume not

1771885018
lemons!~doggie@user/doggie-:49517
dont know for sure though

1771885053
agent314!~agent314@169.150.242.16
lemons: i'm very slightly confused

1771885070
lemons!~doggie@user/doggie-:49517
hm?

1771885088
agent314!~agent314@169.150.242.16
not sure in reference to what that was aid

1771885097
agent314!~agent314@169.150.242.16
about providing its own compiler

1771885108
lemons!~doggie@user/doggie-:49517
the specification

1771885121
lemons!~doggie@user/doggie-:49517
theres documentation for it

1771885132
lemons!~doggie@user/doggie-:49517
same site as you've linked

1771885156
lemons!~doggie@user/doggie-:49517
but not a formal specification (to my knowledge) the same way c has its c standard

1771885185
agent314!~agent314@169.150.242.16
ah i see

1771885201
agent314!~agent314@169.150.242.16
it's because guys that make the "spec" and guys making the compiler are the same guys in zig i assume

1771885262
lemons!~doggie@user/doggie-:49517
but not a formal specification (to my knowledge) the same way c has its c standard

1771885267
agent314!~agent314@169.150.242.16
like in c i think you gots this one entity and they make a bunch of versions of specs and then different guys at gcc, clang, msvc whateve use that 

1771885357
agent314!~agent314@169.150.242.16
but c is just way more like embedded in the world at this point than zig  -- there's just so much stuff written in c 

1771885365
lemons!~doggie@user/doggie-:49517
eyup

1771885461
agent314!~agent314@169.150.242.16
like like trigraphs got removed i think in C++17 and you would think like who cares most people dont even know trigraphs existed 

1771885506
agent314!~agent314@169.150.242.16
but ibm got very uhappy about this and wrote a long essay bashing the c++ standard people for removing their precious trigraphs 

1771885544
agent314!~agent314@169.150.242.16
just imagine that happening in zig, one little change to remove something very obscure took like 7 years

1771885620
agent314!~agent314@169.150.242.16
like the commitee was pushing to remove trigraphs in c++11 but ibm opposed it and they had to wait like six years, it's very much like politics and government at this point

1771885655
agent314!~agent314@169.150.242.16
zig's development is incomperehensibly more agile 

1771885725
lemons!~doggie@user/doggie-:49517
zig isnt bound by backwards compatibility yet

1771885736
lemons!~doggie@user/doggie-:49517
that alone helps the velocity so much

1771885820
agent314!~agent314@169.150.242.16
like i love c (and c++), i've been coding in c since 2003ish and it's still one of my favorite languages 

1771885863
agent314!~agent314@169.150.242.16
but man i just appreciate how fresh zig feels, it's like if c was reborn 

1771886362
agent314!~agent314@169.150.242.16
ok i'm again confused 

1771886386
agent314!~agent314@169.150.242.16
so there's https://learnxinyminutes.com/zig/ and https://matklad.github.io/2025/08/09/zigs-lovely-syntax.html

1771886405
agent314!~agent314@169.150.242.16
in matklad: "More generally, Zig doesnâ€™t have namespaces."

1771886422
agent314!~agent314@169.150.242.16
in learnxinyminutes: "Zig introduces namespaces."

1771886450
agent314!~agent314@169.150.242.16
i'm assuming, just from what i know, that the culprit is versions

1771886480
lemons!~doggie@user/doggie-:49517
bit of a weird one with that, when you do an @import() that turns the imported file into a struct

1771886531
lemons!~doggie@user/doggie-:49517
in that sense zig doesnt have namespaces as a construct in of itself, the files themselves are the namespace

1771886546
agent314!~agent314@169.150.242.16
ah

1771886571
lemons!~doggie@user/doggie-:49517
i assume the author in matklad wanted to compare to c#, where (afaik) you can define the same namespace in two different files and it'll just be clobbered together

1771886576
lemons!~doggie@user/doggie-:49517
zig doesnt have that

1771886597
agent314!~agent314@169.150.242.16
wait each file is a struct?

1771886657
lemons!~doggie@user/doggie-:49517
ish

1771886700
agent314!~agent314@169.150.242.16
oh you can do const f = @import("file.zig"); f.run(); 

1771886750
agent314!~agent314@169.150.242.16
wait but compiling  and stuff

1771886781
agent314!~agent314@169.150.242.16
ok i need to try this (btw in the example the f.run() is in a main function)

1771886783
lemons!~doggie@user/doggie-:49517
dont think of it as literal "every file is stored in memory like a c struct"

1771886802
lemons!~doggie@user/doggie-:49517
...oooookfkaf ok not struct, type definition

1771886806
agent314!~agent314@169.150.242.16
it's like #include 

1771886814
agent314!~agent314@169.150.242.16
is what i'm sensing 

1771886840
lemons!~doggie@user/doggie-:49517
its the same stuff as const MyType = struct{ a: u32, b: f32, c: []const u8};

1771886840
agent314!~agent314@169.150.242.16
oh wait you don't run the file, you just access the function run() defined in that file/namespace

1771886860
lemons!~doggie@user/doggie-:49517
i should not be trying to explain this on an empty brain tank

1771886878
agent314!~agent314@169.150.242.16
https://vibing.dev/zig-namespaces i should've maybe read that article top-to-bottom not bottom-to-top

1771886884
agent314!~agent314@169.150.242.16
no that makes sense lemons 

1771886901
agent314!~agent314@169.150.242.16
i was seriously disturbed by the .run() thing for a second

1771886937
lemons!~doggie@user/doggie-:49517
you have the type definitions, and the instantiation thereof - imports are equivalent to the former

1771886967
lemons!~doggie@user/doggie-:49517
except you cant instantiate them- actually ill just stop

1771886971
lemons!~doggie@user/doggie-:49517
go read

1771886990
lemons!~doggie@user/doggie-:49517
thats written by people that actually factcheck their stuff 

1771887018
lemons!~doggie@user/doggie-:49517
and dont brain-llm their stentences

1771887035
agent314!~agent314@169.150.242.16
well also irc has like limited space for source code samples

1771887103
agent314!~agent314@169.150.242.16
but should we be taking about zig at all? if zig is that different version to version maybe it makes more sense to talk about zig0.14.0 or zig0.15.0

1771887157
user0thenyancat_!~user0then@user/user0thenyancat-:41420
for source code examples you mighr want something like https://bpa.st

1771887189
agent314!~agent314@169.150.242.16
user0thenyancat_: oh yeah i have that tied to some key combos in emacs 

1771887235
user0thenyancat_!~user0then@user/user0thenyancat-:41420
there are many other pastebins too

1771887239
lemons!~doggie@user/doggie-:49517
user0thenyancat_: wgetpaste my beloved

1771887261
user0thenyancat_!~user0then@user/user0thenyancat-:41420
https://paste.debian.net

1771887270
agent314!~agent314@169.150.242.16
webpaste-buffer and webpaste-region

1771887331
agent314!~agent314@169.150.242.16
C-c C-p C-b uploads the current file up to a pastebin, C-c C-p C-r uploads what you have selected to a region and in both casses you end up with a link in the clipboard

1771887423
agent314!~agent314@169.150.242.16
i forgot exactly which pastebin it's configured to but you can add new ones in config 

1771887488
agent314!~agent314@169.150.242.16
https://github.com/psapy/awesome-pastebin here is a little list of pastebins... it's quite long but it's all just dumped as one list, the only categories are for tor-based pastebins and for discontinued ones

1771887595
agent314!~agent314@169.150.242.16
i've been kinda going over it and breaking up into groups like "minimalistic" pastebins or "IDEs" or the ones with beautifiers

1771887989
agent314!~agent314@169.150.242.16
this is what i currently have http://worker.pwnednetwork.com:9001/p/pastebins-classified# 

1771888010
agent314!~agent314@169.150.242.16
sorry this is hella offtopic, i just got triggered by the word pastebin ill stop now

1771888370
agent314!~agent314@169.150.242.16
i'm gonna go play with zig->webassembly and see if the universe can be balanced out after the diabolically sick plan to use javascript as a server-side language

