1771113773
rvrb!~rvrb@156.146.51.229
I wish we could post that devlog to lobst.rs, the HN comment thread is legitimately some of the lowest quality discussion I have ever seen on HN

1771117260
rvrb!~rvrb@156.146.51.229
worked it out with #lobsters, I hope for a more interesting conversation

1771120454
andrewrk!~andrewrk@mail.ziglang.org
rvrb: I lol'd at "I was able to replicate the subset of zig that I wanted, using c23"

1771120507
clevor!sid649024@id-649024.hampstead.irccloud.com
Except for _Using _Namespace

1771121019
torque!~tachyon@user/torque
did the person specify what that subset was lol

1771121305
andrewrk!~andrewrk@mail.ziglang.org
anyway loris pointed out to me recently that social media posts aren't really the best value for our efforts anymore. probably, the better investment is zig.day meetups where we help people level up their programming skills with zig and start actually making stuff

1771121324
andrewrk!~andrewrk@mail.ziglang.org
I think that's a nice take. instead of arguing endlessly on the internet, actually form communities, grow skills, make useful software

1771121586
torque!~tachyon@user/torque
I'm also really mad that the guys who are turning c into the nevernding c++ standards hell were inspired by many other parts of c++, like the monstrously hideous [[attributes]] syntax. also why did C need `nullptr` added to it. oh because of the horrible generics C11 added I guess

1771121608
torque!~tachyon@user/torque
it's a dark day when you need to go to cppreference.com to get information on C

1771121656
torque!~tachyon@user/torque
the good news about social media is that there are a lot of other people who will scream into the void for you

1771121742
intermezzo!~intermezz@user/intermezzo
Hi there! Sorry to interrupt but may I ask for update on issues "Builtin Matrix type" (#4960) and "Proposal: Short Vector Primitives" (#7295)?

1771121824
andrewrk!~andrewrk@mail.ziglang.org
intermezzo: you're not interrupting, that's quite an on topic question. there have not been any updates on those issues 

1771122228
intermezzo!~intermezz@user/intermezzo
andrewrk: Thanks. Not a showstopper but having them would makes writing shaders a lot more enjoyable as a perfectionist.

1771122343
andrewrk!~andrewrk@mail.ziglang.org
intermezzo: unfortunately been distracted with other stuff lately but I'm looking forward to making zig into a great shader language :)

1771122352
andrewrk!~andrewrk@mail.ziglang.org
I think there's a huge opportunity here

1771123474
Affliction!affliction@idlerpg/player/affliction
Actually using GPUs for graphics!? Madness!

1771123580
intermezzo!~intermezz@user/intermezzo
andrewrk: Looking forward to it ;D

1771123592
intermezzo!~intermezz@user/intermezzo
Having all the sources in a single language, even with much boilerplate would pivot myself from Ada/SPARK entirely

1771123680
intermezzo!~intermezz@user/intermezzo
Affliction: WDYM? CPU doing real-time 3D rendering?

1771123820
Affliction!affliction@idlerpg/player/affliction
I mean, how most of the money spent on GPUs is for AI these days

1771123978
Affliction!affliction@idlerpg/player/affliction
But yeah, I've done some relatively basic 3D stuff in the past. It'd certainly be interesting to write shaders in zig

1771124407
andrewrk!~andrewrk@mail.ziglang.org
it already kinda works https://codeberg.org/andrewrk/daw/src/branch/main/shaders/ui.zig

1771124411
andrewrk!~andrewrk@mail.ziglang.org
but it could be a lot better

1771125108
Affliction!affliction@idlerpg/player/affliction
very interesting

1771125134
Affliction!affliction@idlerpg/player/affliction
I think I know what my next weekend project will be. Pure zig spinny cube!

1771125250
intermezzo!~intermezz@user/intermezzo
Official SPIR-V target is already godsend, and if nothing changes until April I'll go with Zig for platform interfaces.

1771125251
intermezzo!~intermezz@user/intermezzo
* I doubt that to be completed in the meantime anyway. But Zig always surprise everyone so

1771149287
tsujp!497e1f7b6a@sourcehut/user/tsujp
I've got a tagged union where the value can be a struct, im trying to check in a test that the value is as expected but im getting compile errors

1771149317
tsujp!497e1f7b6a@sourcehut/user/tsujp
been about 1.5 months since i used zig and evidently ive forgotten a few things

1771149688
tsujp!497e1f7b6a@sourcehut/user/tsujp
ah hangon, so the tagged union is going to have an active tag and i should probably assert that the active tag is equal to the one i expect

1771149698
tsujp!497e1f7b6a@sourcehut/user/tsujp
just tried that and it didn't work though using std.meta.activeTag

1771149915
tsujp!497e1f7b6a@sourcehut/user/tsujp
bah, i forgot to unwrap the optional

1771149929
tsujp!497e1f7b6a@sourcehut/user/tsujp
this now works:     try expectEqual(Orchestrate.CREATE2, std.meta.activeTag(sut.evm.orchestrate.?));

1771173626
zChris!~zChris@user/zchris
The helloworld code here is it outdated? https://ziglang.org/documentation/master/#Hello-World

1771174524
zChris!~zChris@user/zchris
nevermind , was using the wrong version

1771186238
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
how to set fields based on runtime-known field names?   this tells me `unable to resolve comptime value`, pointing to field_name in the @field() expression: https://bpa.st/646A

1771186409
andrewrk!~andrewrk@mail.ziglang.org
netvor: you need comptime-known field name. you can use StaticStringMap to accomplish this 

1771186446
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
ok, i thought inside `inline for`, the `field_name` would be comptime-known

1771186466
andrewrk!~andrewrk@mail.ziglang.org
it is

1771186500
andrewrk!~andrewrk@mail.ziglang.org
well, looks like you need a comptime on fieldNames()

1771186500
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
wait, is it Schroedinger's comptime-known? :)

1771186508
andrewrk!~andrewrk@mail.ziglang.org
that function is silly, just use @typeInfo

1771186518
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
ah, thanks

1771186547
andrewrk!~andrewrk@mail.ziglang.org
@typeInfo(Flags).@"struct".fields

1771186648
andrewrk!~andrewrk@mail.ziglang.org
fieldNames should be marked inline so that this problem is avoided

1771186664
andrewrk!~andrewrk@mail.ziglang.org
(in the std lib, not your code)

1771186986
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
nice, i used @typeInfo.  my loop has a silly design bug anyway: i return error too early :)

1771187149
andrewrk!~andrewrk@mail.ziglang.org
you might enjoy trying out StaticStringMap + switch with inline else

1771187156
andrewrk!~andrewrk@mail.ziglang.org
will have better codegen too 

1771187319
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
well at least i got it working .. https://bpa.st/MN6A  i'll have a look at the StaticStringMap

1771187585
andrewrk!~andrewrk@mail.ziglang.org
ah you're working on a type-based CLI arg parser I see

1771187653
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
yeah it's cli or envvar, but i don't aim to make it generic

1771187894
netvor!~netvor@2a00:ca8:a1f:cd0:ad6f:8bd9:5e50:7fdc
it's here btw (the 'main' version is a bit broken though and i will change cli yet):  https://git.sr.ht/~netvor/twinner

1771194310
rvrb!~rvrb@156.146.51.229
the DST std.Io implementation doesn't exist yet in any form right?

1771194333
rvrb!~rvrb@156.146.51.229
sorry acronym; deterministic simulation testing

1771194618
andrewrk!~andrewrk@mail.ziglang.org
correct

1771197164
cow_2001!~username@user/cow-2001/x-5712099
is this a reasonable init method - takes an allocator and allocates an empty slice to put in one of the fields to avoid undefined field?

1771197523
andrewrk!~andrewrk@mail.ziglang.org
cow_2001: is the field supposed to be empty, or is it supposed to be not used until it is later initialized?

1771198035
cow_2001!~username@user/cow-2001/x-5712099
it is supposed to be later initialised

1771198118
cow_2001!~username@user/cow-2001/x-5712099
it just sets the hash table capacity and count of elements to 0, and sets the array pointer to NULL

1771198162
cow_2001!~username@user/cow-2001/x-5712099
maybe i should use a ?[]Entry instead of just []Entry for the hash table's array?

1771198192
andrewrk!~andrewrk@mail.ziglang.org
then undefined is the right answer

1771198209
cow_2001!~username@user/cow-2001/x-5712099
why not an optional value?

1771198224
cow_2001!~username@user/cow-2001/x-5712099
?[]Entry, that is

1771198229
andrewrk!~andrewrk@mail.ziglang.org
you just told me that you would not check for null, right?

1771198235
andrewrk!~andrewrk@mail.ziglang.org
you will initialize it to non-null before using it

1771198255
andrewrk!~andrewrk@mail.ziglang.org
therefore, null is not a state that it is supposed to be possible

1771198276
cow_2001!~username@user/cow-2001/x-5712099
hmm!

1771198308
andrewrk!~andrewrk@mail.ziglang.org
if you never check something is null, that is a hint optional is the wrong type

1771198354
andrewrk!~andrewrk@mail.ziglang.org
note that you *cannot* check whether something is undefined. if you need to do that, then you need an optional :)

1771198389
cow_2001!~username@user/cow-2001/x-5712099
thank you

