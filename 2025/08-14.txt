1755140330
torque!~tachyon@user/torque
if you simply heap allocate your stack, you can make it as huge as you want no problem

1755142417
rvrb!~rvrb@156.146.51.228
yeah; I think I am settling on that the approach I originally took is fine, and to give up the 'zero allocation'. maybe use a SegmentedList with a preallocated segment of a reasonable upper bound

1755142435
rvrb!~rvrb@156.146.51.228
like it's not a big deal if the stack gets busted and needs to allocate a bit more

1755142686
rvrb!~rvrb@156.146.51.228
maybe the question I am really asking is if anyone knows of other ways to send control flow out of the middle of a recursive descent parser other than callbacks or generator functions (or hand rolling the state machine like I did)

1755147910
andrewrk!~andrewrk@mail.ziglang.org
rvrb: with the ability to resume where it left off?

1755148775
rvrb!~rvrb@156.146.51.228
andrewrk: yeah

1755148807
rvrb!~rvrb@156.146.51.228
I think the answer is no, and I am describing an LR parser

1755148847
andrewrk!~andrewrk@mail.ziglang.org
I agree, however, I will add that that use case is why people like "generators"

1755148861
rvrb!~rvrb@156.146.51.228
parser generators, or generator functions

1755148869
andrewrk!~andrewrk@mail.ziglang.org
generator functions

1755148900
rvrb!~rvrb@156.146.51.228
yeah. I am just going deeper down the rabbit hole. I already have the complexity of a pushdown automaton with the tradeoffs of a pratt parser; might as well use the PDA to its strengths and turn this into an LR parser

1755148936
andrewrk!~andrewrk@mail.ziglang.org
although parser generators generally generate an LR parser, so it's kinda all part of the same picture

1755148959
andrewrk!~andrewrk@mail.ziglang.org
I did not do that goofy sentence on purpose, lol

1755148970
rvrb!~rvrb@156.146.51.228
lol

1755149037
andrewrk!~andrewrk@mail.ziglang.org
if you didn't already notice, this kind of code is also a good use case for labeled switch continue

1755149148
rvrb!~rvrb@156.146.51.228
yeah, I did not know about those when I started this code base earlier this year. I am using it for the VM dispatch loop, but hoping to refactor this now that I am doubling down on the state machine

1755168326
ekaitz!~Ekaitz@46.6.5.164
hi! does anyone have a good example of how can I can poll an std.net.Stream?

1755174903
flower_!~archie@83-81-123-193.cable.dynamic.v4.ziggo.nl
ekaitz: I stumbled upon poll here: https://www.openmymind.net/TCP-Server-In-Zig-Part-8-Epoll-and-Kqueue/

1755174927
ekaitz!~Ekaitz@46.6.5.164
flower_: thank you! I'll take a look

1755174930
flower_!~archie@83-81-123-193.cable.dynamic.v4.ziggo.nl
https://www.openmymind.net/TCP-Server-In-Zig-Part-5a-Poll/

