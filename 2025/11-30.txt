1764462815
sunflr!~sunflr@user/sunflr
GuestZero: did you need to compile it with Zig?

1764528911
GuestZero!~gruetzhax@2a01:599:142:f886:35cb:1c8f:a634:29b7
sunflr yup, grateful for any noob howto. :-) 

1764529065
triallax!~triallax@lacerte/triallax
hey folks

1764529089
triallax!~triallax@lacerte/triallax
i'm working on setting up ci (forgejo actions on codeberg) for my zig project

1764529129
triallax!~triallax@lacerte/triallax
however i'm running into a strange linking error when building it: https://codeberg.org/triallax/dawk/actions/runs/9/jobs/0/attempt/1#jobstep-4-4

1764529660
torque!~tachyon@user/torque
do you build/test on x86_64 linux locally?

1764529667
triallax!~triallax@lacerte/triallax
yes

1764529673
triallax!~triallax@lacerte/triallax
have been since the inception of the project

1764529800
torque!~tachyon@user/torque
I assume you don't see this issue locally? do you use glibc or musl locally?

1764529822
triallax!~triallax@lacerte/triallax
i have been using musl up until a week ago, when i switched to a glibc distro

1764529826
triallax!~triallax@lacerte/triallax
the issue happens on neither

1764529829
triallax!~triallax@lacerte/triallax
(locally)

1764529904
torque!~tachyon@user/torque
the missing symbol appears to be from glibc, maybe the ci environment has an older glibc or something? Not really sure. you could try forcing ci to build with musl and see if the issue persists

1764529935
triallax!~triallax@lacerte/triallax
my guess is that zig detects an incorrect glibc version or something like that

1764529940
triallax!~triallax@lacerte/triallax
but idk

1764530052
torque!~tachyon@user/torque
not familiar with codeberg CI, is the runner self-hosted or do they offer runners?

1764530076
triallax!~triallax@lacerte/triallax
they have runners (that i use), but you can self host if you want

1764530095
torque!~tachyon@user/torque
image=ghcr.io/catthehacker/ubuntu:act-latest

1764530105
triallax!~triallax@lacerte/triallax
yes that's the default

1764530106
torque!~tachyon@user/torque
well you could probably try to reproduce with this docker image if you really wanted to

1764530128
triallax!~triallax@lacerte/triallax
it's already the default image on codeberg runners

1764530152
torque!~tachyon@user/torque
it's extremely disappointing to me that gitea (and therefore forgejo) basically reimplemented github actions, which is an extremely dogshit ci system

1764530276
triallax!~triallax@lacerte/triallax
statically linked musl build is an acceptable workaround for now i guess

1764530425
torque!~tachyon@user/torque
is the goal of CI to do testing or to provide build artifacts

1764530434
triallax!~triallax@lacerte/triallax
testing

1764530439
triallax!~triallax@lacerte/triallax
for the moment anyhow

1764530451
torque!~tachyon@user/torque
yeah

1764530465
triallax!~triallax@lacerte/triallax
no reason to provide build artifacts nobody uses it :')

1764530472
triallax!~triallax@lacerte/triallax
what why was this autoemojified

1764530475
triallax!~triallax@lacerte/triallax
smh

1764530542
triallax!~triallax@lacerte/triallax
musl build works

1764530650
torque!~tachyon@user/torque
yeah so something up with glibc or glibc detection I guess

1764530697
torque!~tachyon@user/torque
it wasn't emojified on my end

1764530791
triallax!~triallax@lacerte/triallax
is the client then

1764543494
smlavine!~smlavine@sourcehut/user/smlavine
format question: The docs for std.Io.Writer.print "f" specifier say "f: delegates to a method on the type named "format" with the signature fn (*Writer, args: anytype) Writer.Error!void." But I can't find any example that uses an "args" argument and I can't see how to use it. Is this line outdated?

1764544084
squeek502!~squeek502@user/squeek502
smlavine, yes it is: https://github.com/ziglang/zig/issues/25963

