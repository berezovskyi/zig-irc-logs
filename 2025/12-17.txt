1765954702
LAC-Tech!~lewis@granite-phrase.bnr.la
why doesn't zig automatically run tests in other modules, even when they are linked to your root one? I know there's some little thing you can type to fix it, but what is the quirky reason behind it?

1765954863
LAC-Tech!~lewis@granite-phrase.bnr.la
test {

1765954876
LAC-Tech!~lewis@granite-phrase.bnr.la
    @import("std").testing.refAllDecls(@This());

1765954876
LAC-Tech!~lewis@granite-phrase.bnr.la
}

1765954968
torque!~tachyon@user/torque
because of lazy compilation

1765955012
torque!~tachyon@user/torque
you can also do this in a comptime block behind a check to see if the build is a testing build

1765955012
torque!~tachyon@user/torque
which has the minor advantage that it avoids creating a spurious test that does nothing

1765955056
LAC-Tech!~lewis@granite-phrase.bnr.la
but I am already refencing the module. I thought it compiles if you reference the module

1765955110
torque!~tachyon@user/torque
if you're just doing like `pub const b = @import("./b.zig");` and not using `b` anywhere, no. also test builds don't call main since they have their own main, so if `b` only gets referenced in nromal code and not test code it won't be analyzed for test builds

1765955118
LAC-Tech!~lewis@granite-phrase.bnr.la
it wouldn't be so bad if zig build test actually told you how many tests have run. but I suppose you are supposed toi guess

1765955130
torque!~tachyon@user/torque
the test runner is really mediocre

1765955138
LAC-Tech!~lewis@granite-phrase.bnr.la
yeah. and auto docs too

1765955154
LAC-Tech!~lewis@granite-phrase.bnr.la
no one is going to want to use that. it should be abandoned. it was an awful idea

1765955168
torque!~tachyon@user/torque
I think the autodocs are fine

1765955188
torque!~tachyon@user/torque
there's room to improve both of them and they're not the main focus of development

1765955210
LAC-Tech!~lewis@granite-phrase.bnr.la
really? wasm web app that takes 8 seconds every to load every time there's a new git commit? and needs a server running? it's just static docs

1765955232
torque!~tachyon@user/torque
you can write your own test runner instead of using the built-in one

1765955276
torque!~tachyon@user/torque
well, I tend to just keep std open in a text editor rather than use the autodoc, but I haven't noticed load time being that extremely bad for me

1765955276
LAC-Tech!~lewis@granite-phrase.bnr.la
autodoc would legit be faster if it was react lol

1765955342
torque!~tachyon@user/torque
takes around 2 seconds for the initial load for me, and ofc everything after that is instantaneous

1765955384
LAC-Tech!~lewis@granite-phrase.bnr.la
way slower for me. I assume its in europe or something

1765955402
torque!~tachyon@user/torque
but yeah the initial load is painful. I'm sure someone clever could figure out how to minimize it while still keeping the source mostly zig

1765955424
LAC-Tech!~lewis@granite-phrase.bnr.la
no you don't need anything clever. these are static docs. html..

1765955424
torque!~tachyon@user/torque
the slow part is downloading a 3MB tar file of the zig sources

1765955476
torque!~tachyon@user/torque
it would be much bigger if they were pre-rendered to a single html file

1765955534
LAC-Tech!~lewis@granite-phrase.bnr.la
html files can contain hyperlinks that point to other files though

1765955574
torque!~tachyon@user/torque
yes, it could be rendered to a lot of html pages and be a static site

1765955624
torque!~tachyon@user/torque
I think the current form is somewhat experimental, but it does have some advantages to its approach

1765955754
torque!~tachyon@user/torque
you can also use `zig std` to open a local version that shouldn't suffer from network latency

1765996126
reykjalin!7e28cf3a41@user/reykjalin
LAC-Tech: you can also run `zig std` on your own computer to have the docs served locally. that should speed the download up since it’s just serving files from your own computer. you don’t even need an internet connection to view the docs so long as you already have the zig compiler 

1766005637
tranzystorekk!86175ff574@voidlinux/maintainer/tranzystorekk
hmmm how do i force zig to output function assemby in compiler explorer without usign export because slice as func param has no stable abi

1766015587
clevor!sid649024@id-649024.hampstead.irccloud.com
`-femit-asm` IIRC

