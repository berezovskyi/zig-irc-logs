1763683203
p00f!ad2b9023b7@2a03:6000:1812:100::d93
putting 0.16 in the zigtools.org webpage doesn't work

1763683241
grayhatter!~grayhatte@user/grayhatter
andrewrk: would you consider accepting a PR that moves what's currently `std.os.linux` -> `std.os.linux.capi` and "duplicates" or converts all the current functions into a more "Zig like" api? The `std.os.linux.capi` would provide the exact c api provided by linux e.g. sigset_t, socklet_t, and std.os.linux would expose very zig like api e.g. `sigTimedWait(..., timeout: std.Io.Duration)`? (asking

1763683243
grayhatter!~grayhatte@user/grayhatter
because I feel this suggestion would improve std.os.linux, and also because I'm a bit lost by your PR review/comment)

1763683245
p00f!ad2b9023b7@2a03:6000:1812:100::d93
so i installed vscode, which downloaded it automatically. then used fd to locate the downloaded file and move it to ~/.local/bin

1763683263
grayhatter!~grayhatte@user/grayhatter
p00f: IIRC zls master branch tracks zig's master branch

1763683267
p00f!ad2b9023b7@2a03:6000:1812:100::d93
yes

1763683315
p00f!ad2b9023b7@2a03:6000:1812:100::d93
i assume there are nightly builds

1763683316
grayhatter!~grayhatte@user/grayhatter
p00f: are you asking where you can get a build of zls's master branch?

1763683320
p00f!ad2b9023b7@2a03:6000:1812:100::d93
yeah

1763683345
grayhatter!~grayhatte@user/grayhatter
I don't think they provide nightly builds, but I'd ask on their discord, maybe they do?

1763683360
p00f!ad2b9023b7@2a03:6000:1812:100::d93
they have a discord?

1763683375
p00f!ad2b9023b7@2a03:6000:1812:100::d93
found it

1763683384
p00f!ad2b9023b7@2a03:6000:1812:100::d93
thanks grayhatter 

1763683388
grayhatter!~grayhatte@user/grayhatter
:)

1763689829
torque!~tachyon@user/torque
if you're using zig, why not build it yourself

1763689847
torque!~tachyon@user/torque
one of the advantages of zig is the build system is good and not bad

1763693649
Affliction!affliction@idlerpg/player/affliction
+1; git pull; zig build -Doptimize=ReleaseFast; mv into path

1763693674
grayhatter!~grayhatte@user/grayhatter
zig build -p local/path

1763697880
grayhatter!~grayhatte@user/grayhatter
is it sane to want to get a ptr into a Io.Queue element?

1763697954
grayhatter!~grayhatte@user/grayhatter
I'm trying to avoid a small memory copy by putting the "reader buffer" into the queue element itself

1763722169
bblack!~bblack@wikimedia/bblack-WMF
grayhatter: re your "linux.capi" idea, I would at least bikeshed the name to something else.  I get that what we're talking about is effectively the C-level API of the kernel (because the real "API" of the kernel is asm code).  But still, "capi" kinda blurs the confusing things about linking libc and std.c as well, which also has a bunch of overlap on many of those same interface names.

1763727362
xoreaxeax!~xoreaxeax@user/daswf852
is the lack of a return on the float part of parseContextDependentNumber in the spir-v assembler (https://github.com/ziglang/zig/blob/d3e20e71be8d94b8c0534d2cb57a1a27c451db9f/src/codegen/spirv/Assembler.zig#L722) intentional?

1763727408
xoreaxeax!~xoreaxeax@user/daswf852
turning the `switch { ... }` to a `return switch { ... };` seems to be required for `OpConstant %some_float_type_here [some value here]` to work

1763727428
xoreaxeax!~xoreaxeax@user/daswf852
or am i missing something here

1763738747
Gliptic!~glip@2a01:4f8:c012:91f3::1
xoreaxeax: can't imagine it can be intentional, because it will always turn into an ass.fail right now

1763744137
grayhatter!~grayhatte@user/grayhatter
bblack: really if given the choice, I'd call it c, because that's what it is. it's the interface provided by/to c

1763745834
clevor!sid649024@id-649024.hampstead.irccloud.com
I would call it raw since it's all raw syscalls.

1763745984
grayhatter!~grayhatte@user/grayhatter
clevor: I also considered that, it's a good name, but assumed that would be more objectionable

1763747695
rvrb!~rvrb@156.146.51.230
xoreaxeax: spirv target is quite experimental at this point. Iâ€™ve had better luck with questions in the game dev channel on the Zig Discord since that is where some of the maintainers hang out

1763767496
Krajina!~Krajina@user/Krajina
So I tried to use this: https://github.com/raylib-zig/raylib-zig?tab=readme-ov-file#building-and-using - but when I run it it gives me a bunch of "error: unable to find dynamic system library 'Xinerama' using strategy 'paths_first'. searched paths:" - the thing is I have installed all that stuff, but I guess it's not in one of the paths that it's searching

1763767522
Krajina!~Krajina@user/Krajina
Is this n00b stuff?  When I run apt-install I am not thinking about where it ends up, like at all

1763767764
grayhatter!~grayhatte@user/grayhatter
Krajina: dependency management isn't n00b stuff, it something that I see trip up experienced people all the time... with a good distro you shouldn't have to think about it :)

1763767784
grayhatter!~grayhatte@user/grayhatter
give me a second to take a look at the repo

1763767791
Krajina!~Krajina@user/Krajina
I can run "dpkg -L libx11-dev" and it tells me "/usr/lib/x86_64-linux-gnu/libX11.so" (among others) so like when the error from raylib-zig says "searched paths: /usr/local/lib/libX11.so

1763767791
Krajina!~Krajina@user/Krajina
  /usr/local/lib/libX11.a

1763767792
Krajina!~Krajina@user/Krajina
  /lib/libX11.so

1763767792
Krajina!~Krajina@user/Krajina
  /lib/libX11.a

1763767792
Krajina!~Krajina@user/Krajina
  /usr/lib/libX11.so

1763767793
Krajina!~Krajina@user/Krajina
  /usr/lib/libX11.a" I'm like, urgh it's over there, how do I tell you that

1763767883
Krajina!~Krajina@user/Krajina
I googled a bit and someone pointed to this being the fix, but I don't really understand what a triple is or where I'd even apply it (do I have to fork raylib-zig, lmao) https://github.com/ziglang/zig/blob/a63a1c5cb9fd31a57e8371e6cba5f316bd3f2a65/lib/std/zig/system/NativePaths.zig#L104-L129

1763767934
grayhatter!~grayhatte@user/grayhatter
are you building from linux, or from WSL?

1763767944
Krajina!~Krajina@user/Krajina
I'm running Linux Mint

1763767978
andrewrk!~andrewrk@mail.ziglang.org
Krajina: can you share the full error message?

1763768000
Krajina!~Krajina@user/Krajina
I'm a hobbyist casual :^) I just want to do simple dimple animations which I will then use to visualise numerical integration, you know, simple stuff, but I'm stuck on step zero.  YES I'll do a pastebin or something, just a sec...

1763768116
grayhatter!~grayhatte@user/grayhatter
that's one hell of a build.zig

1763768205
Krajina!~Krajina@user/Krajina
https://pastebin.com/kNu6pu16 full error

1763768242
andrewrk!~andrewrk@mail.ziglang.org
Krajina: let's start with the first one. where is libGLX actually installed on your system?

1763768244
grayhatter!~grayhatte@user/grayhatter
do you have `libxinerama-dev` installed as well? or just xorg?

1763768394
Krajina!~Krajina@user/Krajina
I'm not entirely sure whether I'm answering your question but I can see /usr/lib/x86_64-linux-gnu/libXinerama.so exists, and so does /usr/lib/x86_64-linux-gnu/libX11.so

1763768409
andrewrk!~andrewrk@mail.ziglang.org
that answers my question, thank you

1763768476
Krajina!~Krajina@user/Krajina
It all makes me suspicious that the subfolder /x86_64-linux-gnu/ shouldn't be there or wasn't anticipated somehow, it's not like I have multiple architectures here, I'm not trying to do anything fancy you know

1763768554
grayhatter!~grayhatte@user/grayhatter
linux mint's package repo/website makes me sad... search seems broken, and I can't seem to find a way to get a package file list

1763768573
andrewrk!~andrewrk@mail.ziglang.org
I expect to see /usr/local/lib64/ searched before /usr/local/lib/ and then /usr/lib/x86_64-linux-gnu/ searched before /lib/

1763768583
andrewrk!~andrewrk@mail.ziglang.org
based on that exact snippet that you linked earlier

1763768684
andrewrk!~andrewrk@mail.ziglang.org
I'm confused why those items don't show up in the "searched paths:" list

1763768697
grayhatter!~grayhatte@user/grayhatter
Krajina: can you run `zig version`

1763768765
grayhatter!~grayhatte@user/grayhatter
> blame for `try self.addLibDirFmt("/lib/{s}", .{triple});` 4 years ago ... oh nevermind then :/

1763768817
Krajina!~Krajina@user/Krajina
zig version gives 0.15.2

1763768852
Krajina!~Krajina@user/Krajina
I had a version where I was doing a garbage plot in the terminal with plotille, but i decided to swap to raylib, and upgrade from 0.14 to whatever is current

1763768893
Krajina!~Krajina@user/Krajina
I think I saw 0.16.0 dropped very very recently but didn't feel the need to keep up that closely to the ol bleeding edge :)

1763768915
Gliptic!~glip@2a01:4f8:c012:91f3::1
0.16.0 is not released

1763769049
Krajina!~Krajina@user/Krajina
https://ziglang.org/download/ that must be why it's called "master" and the downloads have "-dev" on them?  It was enough to scare me away anyway

1763769065
grayhatter!~grayhatte@user/grayhatter
Krajina: you currently have the version of the compiler you want to be using

1763769267
andrewrk!~andrewrk@mail.ziglang.org
Krajina: do you by chance have NIX_LDFLAGS environment variable present?

1763769366
grayhatter!~grayhatte@user/grayhatter
if you don't know how to check, `env | grep NIX` should work

1763769443
Krajina!~Krajina@user/Krajina
nothing present.  I have a lot of stuff in env but nothing for NIX

1763769490
andrewrk!~andrewrk@mail.ziglang.org
good

1763769538
andrewrk!~andrewrk@mail.ziglang.org
looks like the lib dirs that are not printed are omitted because of FileNotFound when trying to open them

