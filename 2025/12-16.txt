1765868944
Affliction!affliction@idlerpg/player/affliction
So, in another channel, we were joking about over the top "self documenting code"; then I figured, Zig has a solution to that, BEHOLD! A new paradigm of self documenting code! https://bpa.st/4ELGU4GWGWWUAOXQ3KH2O5DWCI

1765869149
Affliction!affliction@idlerpg/player/affliction
In case my sarcasm didn't transmit through, this is a terrible idea, think before inflicting more of this horror on the world.

1765871565
snowflr!~sunflr@user/sunflr
how do i bitshift correctly in Zig?

1765871621
Affliction!affliction@idlerpg/player/affliction
snowflr: << and >> operators, much like other languages

1765871651
snowflr!~sunflr@user/sunflr
hmm

1765871709
Affliction!affliction@idlerpg/player/affliction
though there's also some @shlExact and @shrExact, which has more strict behavior for bits being shifted out; see the docs for that.

1765871882
snowflr!~sunflr@user/sunflr
i'm trying to make a program for reading png chunks and in the docs for png it says that each chunk's first 4 bytes represent the length of the chunk, that way it's easy to skip it for example. So, i'm not sure how to read the length exactlyâ€¦ How can i convert [0x20, 0x7F] into a decimal number for example?

1765871967
Affliction!affliction@idlerpg/player/affliction
snowflr: https://ziglang.org/documentation/master/std/#std.mem.readInt

1765871979
snowflr!~sunflr@user/sunflr
ohhhh

1765871980
Affliction!affliction@idlerpg/player/affliction
handles endianness appropriately

1765872124
snowflr!~sunflr@user/sunflr
ok this looks awesome x3

1765872128
snowflr!~sunflr@user/sunflr
thank you

1765872291
Affliction!affliction@idlerpg/player/affliction
Yeah, it'd be the way to go. AFAIK reading floats involve eg, reading as u32 then bitcasting to f32, but at least ints of any size and endianness are easy.

1765872353
Affliction!affliction@idlerpg/player/affliction
(And this is someone's opportunity to correct me on that. Though iirc zig specifies float types are IEEE-754 so, it should be sound)

1765880456
akiva!~Akiva@user/Akiva
I am wondering if there might be a useful read, Zig-focused even better, for someone moving from GC languages to better wrap my head about allocation. I am trying to write a tokenised word count to better learn Zig and I am definitely my own worst obstacle.

1765880638
Affliction!affliction@idlerpg/player/affliction
I don't think there's really 1 simple answer to all that. Zig does make it easy to use arena setups, but naturally they won't work everywhere.

1765880645
ifreund!2940d10f8b@user/ifreund
not a read, but this is one of the best explanations of allocation that I've seen: https://www.youtube.com/watch?v=vHWiDx_l4V0

1765880687
Affliction!affliction@idlerpg/player/affliction
oh something more fundamental, haven't seen that one

1765881220
akiva!~Akiva@user/Akiva
ifreund: Excellent, thank you! I had watched another of his videos regarding writing to stdout. 

1765894316
mimivalsi!~mimivalsi@user/MimiValsi
Is there any particular reason why when allocating a buffer, for example `alloc(u8, 1)`, the buffer is filled with `170`? and if it's a `u16` it's 43690

1765894320
mimivalsi!~mimivalsi@user/MimiValsi
just curious here

1765894405
ifreund!2940d10f8b@user/ifreund
mimivals1: 170 is 0xaa in hex, and makes it easier to spot undefined memory usage in a debug for example

1765894425
ifreund!2940d10f8b@user/ifreund
note that this is only done in debug/release-safe builds not release-fast/small

1765894983
mimivalsi!~mimivalsi@user/MimiValsi
ahh ok ok I see. Cleaver thx

1765899979
mimivalsi!~mimivalsi@user/MimiValsi
there's something I'm missing out here. When reader from a reader, I user `take(5)` coz

1765900099
mimivalsi!~mimivalsi@user/MimiValsi
I user `take(5)` and when debug.print with `{any}` I get `{ 0, 0, 0, 0, 83 }` and with `{x}` I get `0000000053`. I know that using `{x:2}` is suppose to print `00 00 00 00 53` but got a `header: 0xthread 40302 panic: reached unreachable code`

1765900136
mimivalsi!~mimivalsi@user/MimiValsi
How come? is it because `take()` returns `error{ReadFailed,EndOfStream}![]u8` ?

