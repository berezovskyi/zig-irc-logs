1763080034
LAC-Tech!~lewis@granite-phrase.bnr.la
I hope the Zig compiler can handle 5000 member enums well

1763109677
vigoux!~vigoux@user/vigoux
Hey there ! I have a tiny question: I am currently in the process of writing a hobby OS in zig, and I came accross the `os-bring-your-own` issues on GitHub. This is interesting to me in order to write user applications but I lack knowledge of how to use this feature. Is there documentation somewhere (other than reading the issues) ?

1763109729
vigoux!~vigoux@user/vigoux
Alternatively, would work in the area be appreciated ? I am willing to start contributing to zig and I think this is an area where I could help, as it would help me solve my issues too.

1763114329
vigoux!~vigoux@user/vigoux
Alright, looking at more blog posts and sample code, it seems that `root.os` is deprecated actually ? Though I am pretty sure it is possible to provide `root.os` things (I have seen instances of this in `std`).

1763114338
vigoux!~vigoux@user/vigoux
So what's the definitive status of this in the end ?

1763115081
squeek502!~squeek502@user/squeek502
vigoux, https://github.com/ziglang/zig/commit/cba155510431104fcfe2f6b61e955bc4d42927fb

1763115115
squeek502!~squeek502@user/squeek502
the introduction of what's mentioned in that commit was merged recently: https://github.com/ziglang/zig/pull/25592

1763115178
squeek502!~squeek502@user/squeek502
i believe the idea is you write an implementation of `std.Io` for your OS

1763119856
bblack!~bblack@wikimedia/bblack-WMF
hmmm yeah, maybe more than one (Threaded and Evented perhaps?), but I guess it depends on the BYOS's nature and what it supports, or if they've reinvented some of these wheels in other new directions.

1763125247
vigoux!~vigoux@user/vigoux
Oh, neat !

1763125263
vigoux!~vigoux@user/vigoux
Thanks ! Though I will need to find a way to use this commit in my project now...

1763125276
vigoux!~vigoux@user/vigoux
But this is promising, and exactly what I was looking for, thanks a lot !

1763125371
clevor!sid649024@id-649024.hampstead.irccloud.com
The only problem with that is that you would have to add some code to `std.posix` AFAICT because `std.posix.fd_t` is `u0` for unknown operating systems.

1763125452
vigoux!~vigoux@user/vigoux
Wait, even if I create a cusomt `std.Io` ?

1763125478
vigoux!~vigoux@user/vigoux
Oh indeed, this uses `os.system.fd_t`...

1763125561
vigoux!~vigoux@user/vigoux
Alright, so I guess the answer is thus: use `std.Io` _but_ because this is still in development, the support is not really on-par yet

1763125827
vigoux!~vigoux@user/vigoux
_or_ port a supported libc and then that should make `std.os.system` resolve to `std.c` ?

1763125937
vigoux!~vigoux@user/vigoux
(but that porting business will probably happen after the API has stabilized hehe)

1763126028
clevor!sid649024@id-649024.hampstead.irccloud.com
https://usercontent.irccloud-cdn.com/file/7MDFUjhk/byos.zig

1763126104
clevor!sid649024@id-649024.hampstead.irccloud.com
Oops, `std.posix.fd_t` is actually `void` by default.

1763126677
vigoux!~vigoux@user/vigoux
clevor: is  what you pasted in the code, or is it to be implemented ?

1763126709
vigoux!~vigoux@user/vigoux
I should have checked by myself: this is not implemented yet

1763126751
vigoux!~vigoux@user/vigoux
Though it would be nice to have a clear overview of the interface to implement for `system`...

1763138504
grayhatter!~grayhatte@user/grayhatter
torque: I've always described an antipattern as something that doesn't really do what you want it to do but is still common; something simple like "this is easier, and I don't care about memory usage" wouldn't be an antipattern, would it?

1763138528
grayhatter!~grayhatte@user/grayhatter
otherwise anything/everything suboptimial would be an antipattern, which feels wrong...

